# GreenHouse
---
## Теплица с автомотизированным механизмом контроля в ней климата
---
### Содержание 
[Используемые компоненты](https://github.com/antsinelnikov/GreenHouse/README.md-format#используемыекомпоненты "Используемые компоненты")  
[Схемы работы устройства](https://github.com/antsinelnikov/GreenHouse/README.md-format#схемыработыустройства "Схемы работы устройства")  
[Почему Telegram бот](https://github.com/antsinelnikov/GreenHouse/README.md-format#ПочемуTelegramбот "Почему Telegram бот")  
[Как мы подключили Arduino к Rassbery](https://github.com/antsinelnikov/GreenHouse/README.md-format#КакмыподключилиArduinoкRassbery "Как мы подключили Arduino к Rassbery")
[Описание самой конструкции](https://github.com/antsinelnikov/GreenHouse/README.md-format#используемыекомпоненты "Описание самой конструкции")   
[Проблемы с которыми мы столкнулись](https://github.com/antsinelnikov/GreenHouse/README.md-format#Проблемыскоторымимыстолкнулись "Проблемы с которыми мы столкнулись")  
[Примерная 3D модель](https://github.com/antsinelnikov/GreenHouse/README.md-format#Примерная3Dмодель "Примерная 3D модель")  
[Фотографии самой теплицы](https://github.com/antsinelnikov/GreenHouse/README.md-format#Фотографиисамойтеплицы "Фотографии самой теплицы")  
[Куда дальше развиваться?](https://github.com/antsinelnikov/GreenHouse/README.md-format#Кудадальшеразвиваться? "Куда дальше развиваться?")  

---

### Используемые компоненты
Вся наша система базируется на Rassbery Pi 4 Model B, мы решили выбрать именно её для возможности управления телеграмм ботом и более быстрой скорости работы.
Так же мы докупили к Rassbery расширение на плату Troyka Hat для более удобного подключения к ней датчиков.
Не все датчики, которые мы выбрали, имеют свои библиотеки для Rassbery, поэтому мы использовали Arduino Uno.

Датчики для измерения таких характеристик как: влажность воздуха, температура воздуха и влажность почвы.
Мы решили не объединять датчик влажности и температуры воздуха, так как считаем, что отдельные датчики в случае неисправности одного будут продолжать работать, а если сломается один такой, то сразу выйдет из строя как датчик влажности, так и датчик температуры.
Тут будет описание каждого датчика отдельно + штуки для работы с ним.
* Влажность воздуха.
Как датчик влажности воздуха мы решили использовать SHT1x. Главная проблема, с которой мы столкнулись, пока работал с ним, это отсутствие библиотеки для Rassbery, поэтому мы подключили этот датчик к Arduino. Для этого датчика мы использовали библиотеку <SHT1x.h>, более подробно описано [в этой статье](https://wiki.dfrobot.com/SHT1x_Humidity_and_Temperature_Sensor__SKU__DFR0066_).

```c++
#include <SHT1x.h>
```

* Температура воздуха.
Для температуры воздуха мы выбрали датчик температуры DS18B20, изначально мы пробовали подключить его напрямую к Rassbery, но он не работал, поэтому мы его тоже подключили к Arduino с использованием библиотек <OneWire.h>, <DallasTemperature.h>. Подробнее [в этой статье](http://wiki.amperka.ru/продукты:ds18b20).

``` c++
// библиотека для работы с протоколом 1-Wire
#include <OneWire.h>
// библиотека для работы с датчиком DS18B20
#include <DallasTemperature.h>
```

* Влажность почвы.
С этим датчиком у нас проблем не возникло, и мы смогли подключить его к Rassbery, используя библиотеку gpioexp. Подробнее вы сможете узнать [тут](http://wiki.amperka.ru/products:sensor-soil-moisture-resistive).

```python
import gpioexp
```

---

### Схемы работы устройства


---

### Почему телеграмм бот?
Как интерфейс для использования теплицей мы решили выбрать телеграмм бота, у телеграмм бота много возможностей + мессенджер телеграмм установлен почти у всех, да и большой плюс состоит в том, что бота можно добавлять в группу, где все участники группы могут с ним взаимодеймтвовать и видеть данные по датчикам.

---

### Описание самой конструкции
Мы решили использовать как основной материал поликарбонат, ведь он используется в больших теплицах, имеет возможность гнуться в одном из направлений.
Стенки мы решили замазать герметиком, потому что это самое просто и верное решение проблемы герметичности, но была одна проблема в том, что он долго сох, но результатом мы довольны.
Каркас теплицы состоит из металлического конструктора, так как он прост в собирании и, как показала практика, надёжен.

---

### Как мы подключили Arduino к Rassbery
Мы подключили Arduino к Rassbery с помощью USB-порта, мы получали данные из Arduino за счёт получания байтов и их перевода в utf-8. Подробное описание подключения можно посмотреть [тут](https://voltiq.ru/raspberry-pi-arduino-serial-communication/).


---

### Проблемы с которомы мы столкнулись 
Одна из главных проблем было привязка датчиков к Rassbery, также из проблем могу отметить долгое застывание герметика и его ужасный запах.

---

### Примерная 3д модель  
Выгружаю 3D модель в формате .ipt в гугл диск  
[Ссылка на гугл диск](https://drive.google.com/drive/u/0/folders/14Ytf_4KrpEIDLVVPNG6fhE6m3YTKsGXm)

---

### Фотографии самой теплицы

![photo_2023-02-20_14-19-47 (2)](https://user-images.githubusercontent.com/108577348/220190413-f872aee2-64c4-4746-8dda-df08f7d61f7c.jpg)
![photo_2023-02-20_14-19-47](https://user-images.githubusercontent.com/108577348/220190417-a8529ad9-0181-4638-82be-ffb21507e92f.jpg)
![photo_2_2023-02-28_14-13-58 (2)](https://user-images.githubusercontent.com/108577348/221838629-7379af90-5e28-4e9f-9a6e-692f28c0466b.jpg)
![photo_4_2023-02-28_14-13-58 (2)](https://user-images.githubusercontent.com/108577348/221838689-7c57474f-4c7a-4a75-998c-05538ec5ca21.jpg)
![photo_5_2023-02-28_14-13-58 (2)](https://user-images.githubusercontent.com/108577348/221838698-ba608b19-ec10-4200-aca3-21835d686fdc.jpg)
![photo_6_2023-02-28_14-13-58](https://user-images.githubusercontent.com/108577348/221838728-09c40887-8592-48d8-96aa-12c6952bd020.jpg)

![photo_7_2023-02-28_14-13-58](https://user-images.githubusercontent.com/108577348/221838795-b31e57ce-df1c-4cf8-96c7-76223a90474d.jpg)

![photo_3_2023-02-28_14-13-58 (2)](https://user-images.githubusercontent.com/108577348/221838860-a68f903a-63ea-4b24-bd06-bea515534bfe.jpg)

![photo_5_2023-02-28_14-13-58](https://user-images.githubusercontent.com/108577348/221838873-78a48f1e-7922-4801-946b-f5b7e20f30bd.jpg)



![photo_7_2023-02-28_14-13-58 (2)](https://user-images.githubusercontent.com/108577348/221838843-1f14a899-f744-40d0-b2a9-1f1b65d6a9fa.jpg)






---

### Куда дальше развиваться?
Одна из наших задумок для дальнейшего развития - возможность добавления магнитов для объединения нескольких теплиц. Также улучшение ПО, добавление СУБД и улучшение 3D модели.

